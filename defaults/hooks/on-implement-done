#!/bin/bash
#
# on-implement-done - Triggered when implementation is complete
#
# Spawns a reviewer for the ticket.
#
# Environment:
#   RALPHS_TICKET_ID    - The ticket ID
#   RALPHS_TICKET_PATH  - Full path to ticket file
#   RALPHS_PREV_STATE   - Previous state (implement)
#   RALPHS_NEW_STATE    - New state (review)
#   RALPHS_PANE         - Pane that triggered transition
#   RALPHS_SESSION      - tmux session name
#

TICKET_ID="${1:-$RALPHS_TICKET_ID}"

echo "[hook] Implementation done for $TICKET_ID, spawning reviewer"

# Spawn a reviewer agent
ralphs spawn reviewer "$TICKET_ID"
